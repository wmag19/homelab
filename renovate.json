{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "argocd": {
    "managerFilePatterns": ["^manifests/applicationsets\\.yaml$"]
  },
  "kubernetes": {
    "enabled": false
  },
  "helm-values": {
    "enabled": false
  },
  "regexManagers": [
    {
      "fileMatch": ["^manifests/applicationsets\\.yaml$"],
      "matchStrings": [
        "- chart: (?<depName>[^\\s]+)\\s+repoURL: (?<registryUrl>[^\\s]+)\\s+version: \"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "helm"
    }
  ],
  "packageRules": [
    {
      "matchManagers": ["argocd", "regex"],
      "matchDatasources": ["helm"],
      "groupName": "helm-charts",
      "commitMessageTopic": "Helm chart {{depName}}",
      "commitMessageExtra": "to {{newVersion}}",
      "prTitle": "Update Helm charts in ApplicationSets"
    }
  ],
  "prConcurrentLimit": 3,
  "prHourlyLimit": 2,
  "registryAliases": {
    "grafana": "https://grafana.github.io/helm-charts",
    "bitnami": "https://charts.bitnami.com/bitnami",
    "renovate": "https://docs.renovatebot.com/helm-charts"
  }
}